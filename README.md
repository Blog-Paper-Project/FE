<img src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F48a2bf33-bbb6-4e1c-ba45-9f04e920d53a%2FPAPER.jpeg?table=block&id=a934e6cc-b99a-4024-a857-1cff6619333b&spaceId=45af053f-84a5-4fa9-b5c7-de7e57b65827&width=2000&userId=e4ec6b27-fdb8-48dd-9fe0-06b3dd4d8123&cache=v2"/>

# 📝[Paper](https://www.paper-daily.com/)📝

자신의 생각을 글로 적어보아요.

<br />

## Paper의 사용목적

### 자신의 글로 유명 해지고 싶나요?

현시대 우리들은 인스타나 유튜브등에서 사진이나 영상등을 이용해 연예인이 아닌 일반인들도 충분한 명성과 유명세를 얻을수 있었습니다.
하지만 사람의생각을 가지고 유명세를 얻는 것은 구시대와 동일하게 책을 통해서만 가능한 현대의 구조에 아쉽다고 생각을 하였습니다.
그렇기에 이러한 잘 표출된 개인의 생각만으로 흔히 말하는 인플루엔서가 될수 있는 방법을 찾기 위해 이번 프로젝트를 기획하게 되었습니다!


## 📆개발기간

- 2022.06.24 - 2022.08.06

<br />

## 내용

### 1. ✅ 글 작성, 수정, 삭제 ( + 댓글 )
  <details> <summary>자신의 생각이나 지식을 마크다운 형식으로 자신의 Paper에 작성 가능합니다!</summary> <div markdown="1"> 
  <img width='50%' src='https://s3.us-west-2.amazonaws.com/secure.notion-static.com/c81b6c1c-c9ce-407e-92ea-a03cf37ed763/_08-01_17_01.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220804T061622Z&X-Amz-Expires=86400&X-Amz-Signature=dedae71eb81c11835ac0564f0fe67513c6a791c5222b0e756670deca1ba1773b&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22%25EC%25BA%25A1%25EC%25B2%2598_%255B08-01%255D_17_01.png%22&x-id=GetObject'>
  <img width='50%' src='https://s3.us-west-2.amazonaws.com/secure.notion-static.com/f7c4b6c7-64da-480f-ab02-35cee474ce93/_08-01_17_12.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220804T061713Z&X-Amz-Expires=86400&X-Amz-Signature=b8ef649649f4ea6aa2e6e824b35921a950e24fccbbc37298dad243e7cc997a76&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22%25EC%25BA%25A1%25EC%25B2%2598_%255B08-01%255D_17_12.png%22&x-id=GetObject'> 
  </div>
  </details>

  ### 2. ✅ 타 블로거에게 화상 채팅 예약하기
  <details> <summary>블로거가 쓴 글에 궁금한점이나 알고 싶은 것에 대한 질문에 답변이 달리는걸 더이상 기다리지 마십쇼!</summary> <div markdown="1"> 
  1.A블로그의 개인 페이지에 들어가서 채팅 예약하기를 누른다.
  <img width='50%' src='https://s3.us-west-2.amazonaws.com/secure.notion-static.com/bc9ed97c-bb98-499e-951a-61f8825967cd/_08-01_17_17.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220804T062114Z&X-Amz-Expires=86400&X-Amz-Signature=1fe3a9b9948f253c2e334dbaa87b2563d5ede369163482f09321a5db8fc08d01&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22%25EC%25BA%25A1%25EC%25B2%2598_%255B08-01%255D_17_17.png%22&x-id=GetObject'>
  2. 예약 페이지에서 원하는 시간대에 예약을 한다.
  <img width='50%' src='https://s3.us-west-2.amazonaws.com/secure.notion-static.com/2000a798-5727-46d0-b19c-3b3fd923abd1/_08-01_17_02.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220804T062304Z&X-Amz-Expires=86400&X-Amz-Signature=f3c315f64e573ec410f8bc1d93651395008407b5c26271e87434444ded4fbd16&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22%25EC%25BA%25A1%25EC%25B2%2598_%255B08-01%255D_17_02.png%22&x-id=GetObject'> 
  </div>
  </details>

### Members

<table>
   <tr>
    <td align="center"><b><a href="https://github.com/ted-jv">구자덕</a></b></td>
    <td align="center"><b><a href="https://github.com/unchul">임운철</a></b></td>
    <td align="center"><b><a href="https://github.com/daegyu-jeong">정대규</a></b></td>
    <td align="center"><b><a href="https://github.com/KwangMin-Moon">문광민</a></b></td>
    <td align="center"><b><a href="https://github.com/mj-song00">송민지</a></b></td>
    <td align="center"><b><a href="https://github.com/sounwoo">박선우</a></b></td>
    <td align="center"><b><a href="https://github.com/alltimeno1">김성준</a></b></td>
  </tr>
  <tr>
    <td align="center"><a href="https://github.com/ted-jv"><img src="https://avatars.githubusercontent.com/u/105185055?v=4" width="100px" /></a></td>
    <td align="center"><a href="https://github.com/unchul"><img src="https://avatars.githubusercontent.com/u/105141025?v=4" width="100px" /></a></td>
    <td align="center"><a href="https://github.com/daegyu-jeong"><img src="https://avatars.githubusercontent.com/u/105157997?v=4" width="100px" /></a></td>
    <td align="center"><a href="https://github.com/KwangMin-Moon"><img src="https://avatars.githubusercontent.com/u/97036088?v=4" width="100px" /></a></td>
    <td align="center"><a href="https://github.com/mj-song00"><img src="https://avatars.githubusercontent.com/u/104669297?v=4" width="100px" /></a></td>
    <td align="center"><a href="https://github.com/sounwoo"><img src="https://avatars.githubusercontent.com/u/105111888?v=4" width="100px" /></a></td>
    <td align="center"><a href="https://github.com/alltimeno1"><img src="https://avatars.githubusercontent.com/u/98739079?v=4" width="100px" /></a></td>
  </tr>
  <tr>
    <td align="center"><b>Frontend</b></td>
    <td align="center"><b>Frontend</b></td>
    <td align="center"><b>Frontend</b></td>
    <td align="center"><b>Backend</b></td>
    <td align="center"><b>Backend</b></td>
    <td align="center"><b>Backend</b></td>
    <td align="center"><b>Backend</b></td>
  </tr>
</table>

<br/>
<br/>

## Architecture

![Paper_architecture](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/60f3e113-9324-4814-91db-64b735115b4d/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220804T054636Z&X-Amz-Expires=86400&X-Amz-Signature=49cd18bb5817dbe79f7f47c2409f11bf9dd186fb8375206d5dd9140b4dc7b610&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

<br/>
<br/>

## 🛠 Tools 🛠
<div align=center>
  <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white">
  <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">
  <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
  <br>     
  <img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
  <img src="https://img.shields.io/badge/redux-764ABC?style=for-the-badge&logo=redux&logoColor=purple">
  <img src="https://img.shields.io/badge/reactQuery-FF4154?style=for-the-badge&logo=React Query&logoColor=white">
  <br>
  <img src="https://img.shields.io/badge/styledcomponents-DB7093?style=for-the-badge&logo=styled-components&logoColor=pink">   
  <br>
  <img src="https://img.shields.io/badge/socket.io-010101?style=for-the-badge&logo=socket.io&logoColor=white">
  <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">   
  <img src="https://img.shields.io/badge/kakao login-FFCD00?style=for-the-badge&logo=kakao&logoColor=black">
  <br>
  <img src="https://img.shields.io/badge/AWS Amplify-FF9900?style=for-the-badge&logo=AWS Amplify&logoColor=black">
  <img src="https://img.shields.io/badge/WebRTC-333333?style=for-the-badge&logo=WebRTC&logoColor=black">
</div>
<br>
<br>

| Library | Appliance |
| --- | --- |
| socket.io, WebRTC | WebRTC는 HTML5에 내장된 API지원으로 최신브라우저에서 재생가능하고 대표적인 화상채팅 기술이어서 선택, peer간의 초기 연결 및 room을 통한 실시간 채팅기능 구현을 위해 WebSocket보다 유연한 socket.io를 선택 |  
| Reqct-Query | store에 전역에서 사용하지 않는 서버 데이터가 쌓이는 게 비효율적이라고 판단하여 React-Query로 서버로 부터 받은 데이터를 관리하였습니다.
추가로 React-Query를 사용할 시 코드가 단순화 되고, option을 사용한다면 다양한 기능들을 간단히 추가시킬 수 있기에 다른 기술이 아닌 React-Query를 사용하게 됐습니다.| 




## 🔥 Trouble Shooting 🔥
<details> <summary>➡️ input이 있는 곳에서 onChange로 바뀌는 데이터를 state에 보관하고 있었는데,  한 글자 한 글자 작성 시에 onChange로 인해 계속 리랜더링 되어 속도를 저하시키고, 불필요하게 추가로 api 요청이 생겼다.</summary> <div markdown="1">
  <br/>
  
**`해결방안`**
  * react-query에 key를 넣어 refetch가 필요한 값이 변화했을 때만 get 요청을 할 수 있게 하였다.
  * onChange를 쓴 부분을 리렌더링을 막기 위해 useRef로 간단히 해결하였다.

**`결과`**
  * 불 필요한 리랜더링이 없어지니 글 작성 시 가끔 생겼던 에러가 없어졌고, 각 페이지에서 불필요한 get 요청이 사라졌다.
  </div>
  </details>
  
 <details> <summary>➡️ 채팅을 보낼때 여러번 출력되는 현상이 발생하였다.</summary> <div markdown="1">
  <br/>
  
**`해결방안`**
  * 채팅에서의 소켓연결과 화상채팅에서의 소켓연결을 따로 하다보니 
socket이 중복으로 연결되어 메세지가 여러번 찍히는 현상이 발생,
context provider로 socket 연결 후 사용하는 컴포넌트에 import를 해서 사용하는 방식으로 변경

**`결과`**
  * 소켓이 한번만 연결되어 채팅이 여러번 출력되는 현상이 사라졌다.
  </div>
  </details>
